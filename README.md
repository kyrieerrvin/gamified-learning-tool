# FILIPINOnlayn: Gamified Tagalog Learning Platform

A fun and interactive web application for learning Filipino through gamified challenges and exercises. Built with Next.js, React, Firebase, and the ToCylog NLP model for Filipino language processing.

## ðŸŒŸ Features

- **Three Learning Modes**:
  - **Conversation** - Practice real-world dialogues with context-aware feedback
  - **Make a Sentence** - Create meaningful sentences with Tagalog words and phrases
  - **Parts of a Sentence** - Test your knowledge with adaptive quizzes generated by NLP

- **Progress Tracking**:
  - Daily streak tracking
  - Score and point system
  - Performance analytics and statistics
  - Persistent user progress via Firebase Firestore

- **User Authentication**:
  - Google authentication
  - Secure user profiles
 
## ðŸš€ Getting Started

### Project Structure

The project is organized into a clear, modular structure:

```
src/
â”œâ”€â”€ api/            # Backend API route handlers
â”œâ”€â”€ app/            # Next.js app router 
â”‚   â””â”€â”€ api/        # API routes implementation
â”œâ”€â”€ components/     # UI components
â”‚   â”œâ”€â”€ challenges/ # Challenge-specific components
â”‚   â”œâ”€â”€ common/     # Shared components
â”‚   â”œâ”€â”€ layout/     # Layout components
â”‚   â””â”€â”€ ui/         # UI elements
â”œâ”€â”€ data/           # Data layer
â”‚   â”œâ”€â”€ mock/       # Mock/fallback data
â”‚   â””â”€â”€ models/     # Type definitions
â”œâ”€â”€ lib/            # Configuration and utilities
â”œâ”€â”€ services/       # Business logic
â”‚   â”œâ”€â”€ game/       # Game mechanics
â”‚   â””â”€â”€ nlp/        # NLP functionality
â”œâ”€â”€ store/          # State management
â”œâ”€â”€ types/          # Global type definitions
â””â”€â”€ utils/          # Utility functions
```

Key architectural features:
- Clear separation of concerns between data, services, and UI
- Centralized type definitions to reduce duplication
- Dedicated mock data directory for fallback scenarios
- Modular service layer with focused responsibilities

## Technical Stack

- **Frontend**: Next.js 15, React 19, TypeScript, Tailwind CSS
- **Backend**: NLP model connected to Cloudflare Tunnel
- **Authentication**: Firebase Authentication
- **State Management**: Zustand
- **Data Storage**: Firebase Firestore

## NLP Integration Details

### Architecture

The NLP integration consists of two main components:

1. **Dedicated NLP API Server** (`app.py`)
   - Flask-based RESTful API for NLP processing
   - Loads the CalamanCy model for Tagalog language analysis
   - Provides endpoints for game data, POS tagging, and answer verification

2. **Next.js Frontend** (via `nlpService.ts`)
   - Communicates with the NLP API through client services
   - Provides fallback mechanisms when the API is unavailable

### API Endpoints

The NLP API provides the following endpoints:

- **GET `/health`** - Health check endpoint
- **GET `/api/pos-game?difficulty=medium`** - Generate game data with optional difficulty parameter
- **POST `/api/analyze`** - Analyze a Tagalog sentence for POS tagging
- **POST `/api/verify`** - Verify if a selected answer is correct

### Fallback Mechanism

The system includes multi-level fallbacks:
1. Try to use dedicated NLP API with CalamanCy model
2. If model fails, use dictionary-based approach in the NLP API
3. If NLP API is unreachable, fall back to hardcoded data in the frontend

### Technical Notes

- The Python backend runs on port 5000 by default
- The NLP API writes its port to `/tmp/nlp_api_port.txt` for the frontend to discover
- The CalamanCy model needs 1-2GB RAM and may take 10-15 seconds to load initially

## Firebase Integration

### Authentication

The application uses Firebase Authentication to manage user accounts:
- Email and password authentication
- Google sign-in integration
- Secure token management

### Security Rules

The application uses Firestore Security Rules to ensure that:
- Users can only read and write their own data
- Challenge results are immutable once created
- Admin functions are protected

